# api-automation-assignment

**api-automation-assignment** is an automation testing repository using [Postman](https://www.postman.com/) with [Newman](https://github.com/postmanlabs/newman) command-line collection runner  to automate the most important test scenarios for the [API Petstore](https://petstore.swagger.io/).

## Table of contents

- [Installation](#installation)
    + [Requirements](#requirements)
- [Test Plan](#-test-plan)
- [Usage](#usage)
- [CI/CD with GitHub Actions](#cicd-with-github-actions)
    + [Results in Calliope.Pro](#results-in-calliopepro)
- [License](#license)

## Installation

#### Requirements

In order to run the tests you need to have installed:
- [Node.js](https://nodejs.org/en/download/)
- [Newman](https://github.com/postmanlabs/newman#getting-started)

Once the requirements have been installed, clone the repo to your local machine.

##  [Test Plan](test-plan.md)

Details about the test scenarios such as selection criteria, scope and more can be found in [Test Plan](test-plan.md).

## Usage

Execute the next command to run the test suite:

```bash
$ newman run petstore-happy-path.postman_collection.json \
-e production.postman_environment.json \
--reporters cli,json --suppress-exit-code true
```
- Where `petstore-happy-path.postman_collection.json` is the Postman collection file (already included in this repo)
- `-e production.postman_environment.json` is the Postman environment file where the variables are defined (also included)
- `--reporters cli,json` the reporters used to generate a stdout output and JSON file
- `--suppress-exit-code true` parameter necessary to avoid CI/CD failure

## CI/CD with GitHub Actions

The project integrates [GitHub Actions](https://github.com/features/actions) as its CI/CD platform.

A workflow is already integrated into this repo which automates a full test run in an [Ubuntu](https://ubuntu.com/) virtual machine every time a pull request is created for the `main` branch.

The `.yml` file with the setup can be found in this repo's path: [.github/workflows/api-test-automation.yml](.github/workflows/api-test-automation.yml)

#### Results in [Calliope.Pro](https://www.calliope.pro/)
During each workflow's execution and as a final step a test report in JSON format will be uploaded to the  Calliope.Pro profile:
> Ricardo's Qualification Assignment > API Assignment - Petstore > Petstore API automation test

A public example of a report generated by this GitHub Actions workflow can be found here:
https://app.calliope.pro/reports/112932/public/616e5e1b-9d24-4353-adfc-8e2d5c9160f2

## License
[MIT](https://choosealicense.com/licenses/mit/)
